# å…«å­—ç®—å‘½ App (Bazi Fortune App)

ä¸€æ¬¾åŸºäº Flutter å¼€å‘çš„å…«å­—ç®—å‘½åº”ç”¨ï¼Œèåˆä¸­å›½ä¼ ç»Ÿæ–‡åŒ–ä¸ç°ä»£ AI æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›ä¸“ä¸šçš„å‘½ç†åˆ†æå’ŒæŒ‡å¯¼ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

- **å…«å­—æ’ç›˜**: æ ¹æ®å…¬å†å‡ºç”Ÿæ—¥æœŸè‡ªåŠ¨è®¡ç®—å…«å­—ã€å¤§è¿ã€æµå¹´
- **AI æ™ºèƒ½è§£è¯»**: é›†æˆ DeepSeek AI æ¨¡å‹ï¼Œç”Ÿæˆä¸Šä¸‡å­—è¯¦ç»†è§£è¯»
- **ç´«å¾®æ–—æ•°**: æ”¯æŒå¤šç§å‘½ç†å­¦æ´¾ï¼Œæä¾›å…¨é¢åˆ†æ
- **å¤§å¸ˆå’¨è¯¢**: ä»˜è´¹å’¨è¯¢çœŸå®å‘½ç†å¤§å¸ˆï¼Œæ”¯æŒå…è´¹è¯•èŠ
- **å æ˜Ÿåˆ†æ**: è¥¿æ–¹å æ˜Ÿå­¦ä¸ä¸­å›½ä¼ ç»Ÿå‘½ç†ç»“åˆ
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­æ–‡/è‹±æ–‡ç•Œé¢åˆ‡æ¢
- **è·¨å¹³å°**: æ”¯æŒ iOSã€Androidã€Web

## ğŸ“± åŠŸèƒ½æ¨¡å—

### æ ¸å¿ƒåŠŸèƒ½
- **å…«å­—è¾“å…¥**: ç²¾ç¡®çš„å‡ºç”Ÿæ—¥æœŸæ—¶é—´é€‰æ‹©å™¨
- **å‘½ç†åˆ†æ**: äº‹ä¸šã€è´¢è¿ã€æ„Ÿæƒ…ã€å¥åº·ç­‰å¤šç»´åº¦è§£è¯»
- **è¿åŠ¿é¢„æµ‹**: å¹´è¿åŠ¿ã€æœˆè¿åŠ¿åˆ†æ
- **å†å²è®°å½•**: ä¿å­˜å’ŒæŸ¥çœ‹å†å²æµ‹ç®—ç»“æœ

### å¤§å¸ˆå’¨è¯¢
- **å¤§å¸ˆåˆ—è¡¨**: æµè§ˆè®¤è¯å‘½ç†å¤§å¸ˆèµ„æ–™
- **å…è´¹è¯•èŠ**: AI æ¨¡æ‹Ÿå¤§å¸ˆå›å¤ï¼Œä½“éªŒæœåŠ¡
- **ä»˜è´¹å’¨è¯¢**: ä¸çœŸå®å¤§å¸ˆå®æ—¶èŠå¤©
- **è®¢å•ç®¡ç†**: æŸ¥çœ‹å’¨è¯¢å†å²å’Œæ”¯ä»˜è®°å½•

### å æ˜ŸåŠŸèƒ½
- **å æ˜Ÿå›¾è¡¨**: 12å®«ä½åœ†å½¢å›¾è¡¨å±•ç¤º
- **è¡Œæ˜Ÿåˆ†æ**: å¤ªé˜³ã€æœˆäº®ã€ä¸Šå‡æ˜Ÿåº§è§£è¯»
- **æ€§æ ¼åˆ†æ**: åŸºäºå æ˜Ÿå­¦çš„æ€§æ ¼ç‰¹å¾åˆ†æ
- **è¿åŠ¿æŒ‡å¯¼**: å æ˜Ÿå­¦è§’åº¦çš„ç”Ÿæ´»å»ºè®®

## ğŸ›  æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Flutter**: è·¨å¹³å°å¼€å‘æ¡†æ¶
- **GetX**: çŠ¶æ€ç®¡ç†å’Œè·¯ç”±ç®¡ç†
- **Supabase**: åç«¯æœåŠ¡ (è®¤è¯ã€æ•°æ®åº“ã€å®æ—¶é€šä¿¡)
- **GetStorage**: æœ¬åœ°æ•°æ®å­˜å‚¨

### æ ¸å¿ƒä¾èµ–
```yaml
dependencies:
  flutter:
    sdk: flutter
  get: ^4.7.2
  get_storage: ^2.1.1
  supabase_flutter: ^2.0.0
  lunar: ^1.0.0
  http: ^1.2.2
  logger: ^2.0.2
  flutter_screenutil: ^5.9.0
  intl: ^0.20.2
  webview_flutter: ^4.7.0
```

### åç«¯æœåŠ¡
- **Supabase**: æä¾› Authã€Postgresã€Realtimeã€Edge Functions
- **DeepSeek API**: AI æ™ºèƒ½è§£è¯»æœåŠ¡
- **æ”¯ä»˜é›†æˆ**: æ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜

## ğŸ“ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ data/                    # æ•°æ®å±‚
â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ modules/                # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ bazi_input/        # å…«å­—è¾“å…¥
â”‚   â”‚   â”œâ”€â”€ result/            # ç»“æœå±•ç¤º
â”‚   â”‚   â”œâ”€â”€ astrology/         # å æ˜Ÿæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ profile/           # ä¸ªäººèµ„æ–™
â”‚   â”‚   â”œâ”€â”€ settings/          # è®¾ç½®
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ utils/             # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ values/            # å¸¸é‡
â”‚   â”‚   â””â”€â”€ theme/             # ä¸»é¢˜
â”‚   â”œâ”€â”€ routes/                 # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ translations.dart       # å›½é™…åŒ–ç¿»è¯‘
â”‚   â””â”€â”€ widgets/                # å…¬å…±ç»„ä»¶
â””â”€â”€ main.dart                   # åº”ç”¨å…¥å£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Flutter SDK: ^3.9.2
- Dart SDK: ^3.9.2
- Android Studio / VS Code
- iOS Xcode (iOS å¼€å‘)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd bazi_fortune_app
```

2. **å®‰è£…ä¾èµ–**
```bash
flutter pub get
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
åˆ›å»º `lib/app/core/values/supabase_config.dart`:
```dart
class SupabaseConfig {
  static const String url = 'your-supabase-url';
  static const String anonKey = 'your-supabase-anon-key';
}
```

4. **è¿è¡Œåº”ç”¨**
```bash
flutter run
```

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

**Android**
```bash
flutter build apk --release
flutter build appbundle --release
```

**iOS**
```bash
flutter build ios --release
```

**Web**
```bash
flutter build web
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

1. åœ¨ `lib/app/modules/` ä¸‹åˆ›å»ºæ–°æ¨¡å—æ–‡ä»¶å¤¹
2. åˆ›å»ºå¿…è¦çš„æ–‡ä»¶ï¼š`controller.dart`, `view.dart`, `bindings/`
3. åœ¨ `app_routes.dart` ä¸­æ·»åŠ è·¯ç”±å®šä¹‰
4. åœ¨ `app_pages.dart` ä¸­æ³¨å†Œè·¯ç”±
5. åœ¨ `translations.dart` ä¸­æ·»åŠ ç¿»è¯‘

### çŠ¶æ€ç®¡ç†

é¡¹ç›®ä½¿ç”¨ GetX è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼š

```dart
// æ§åˆ¶å™¨ç¤ºä¾‹
class MyController extends GetxController {
  final RxString title = 'My Title'.obs;
  
  void updateTitle(String newTitle) {
    title.value = newTitle;
  }
}

// åœ¨è§†å›¾ä¸­ä½¿ç”¨
class MyView extends GetView<MyController> {
  @override
  Widget build(BuildContext context) {
    return Obx(() => Text(controller.title.value));
  }
}
```

### å›½é™…åŒ–

ä½¿ç”¨ GetX çš„å›½é™…åŒ–æ–¹æ¡ˆï¼š

```dart
// ä½¿ç”¨ç¿»è¯‘
Text('login'.tr)

// åˆ‡æ¢è¯­è¨€
Get.updateLocale(Locale('en'));
```

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### ä¸»è¦è¡¨ç»“æ„

- **users**: ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
- **masters**: å‘½ç†å¤§å¸ˆä¿¡æ¯
- **orders**: è®¢å•è®°å½•
- **chats**: èŠå¤©ä¼šè¯
- **messages**: èŠå¤©æ¶ˆæ¯
- **earnings**: æ”¶å…¥è®°å½•

è¯¦ç»†çš„æ•°æ®åº“è®¾è®¡è¯·å‚è€ƒ [MASTER_MANAGEMENT_PRD.md](MASTER_MANAGEMENT_PRD.md)

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
flutter test
```

### é›†æˆæµ‹è¯•
```bash
flutter test integration_test/
```

## ğŸ“± åº”ç”¨æˆªå›¾

### ä¸»è¦ç•Œé¢
- å…«å­—è¾“å…¥ç•Œé¢
- å‘½ç†åˆ†æç»“æœ
- å¤§å¸ˆåˆ—è¡¨
- èŠå¤©ç•Œé¢
- å æ˜Ÿå›¾è¡¨

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

ç›®å‰æ”¯æŒï¼š
- ç®€ä½“ä¸­æ–‡ (é»˜è®¤)
- English

æ·»åŠ æ–°è¯­è¨€æ­¥éª¤ï¼š
1. åœ¨ `translations.dart` ä¸­æ·»åŠ è¯­è¨€é”®å€¼å¯¹
2. åœ¨è®¾ç½®é¡µé¢æ·»åŠ è¯­è¨€é€‰é¡¹
3. æ›´æ–° `app_strings.dart`

## ğŸ” å®‰å…¨è€ƒè™‘

- API å¯†é’¥é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†
- ç”¨æˆ·æ•°æ®ä½¿ç”¨ Supabase RLS ä¿æŠ¤
- æ”¯ä»˜ä¿¡æ¯åŠ å¯†ä¼ è¾“
- æ•æ„Ÿä¿¡æ¯æœ¬åœ°åŠ å¯†å­˜å‚¨

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ GetX çš„æ‡’åŠ è½½å‡å°‘å†…å­˜å ç”¨
- å›¾ç‰‡èµ„æºå‹ç¼©å’Œç¼“å­˜
- åˆ—è¡¨è™šæ‹ŸåŒ–
- å¼‚æ­¥è®¡ç®—å…«å­—æ’ç›˜

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…: Sonoma
- é‚®ç®±: [your-email@example.com]
- é¡¹ç›®é“¾æ¥: [https://github.com/your-username/bazi_fortune_app]

## ğŸ™ è‡´è°¢

- Flutter å›¢é˜Ÿæä¾›ä¼˜ç§€çš„è·¨å¹³å°æ¡†æ¶
- Supabase æä¾›å¼ºå¤§çš„åç«¯æœåŠ¡
- DeepSeek æä¾› AI æ¨¡å‹æ”¯æŒ
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

---

**å…«å­—ç®—å‘½ App** - ä¼ æ‰¿ä¸­åæ™ºæ…§ï¼ŒæŒ‡å¼•äººç”Ÿæ–¹å‘ âœ¨